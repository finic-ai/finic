{"version":3,"sources":["webpack:///./src/ui/src/components/SignatureValidationModal/SignatureValidationModal.scss?83e1","webpack:///./src/ui/src/components/SignatureValidationModal/SignatureValidationModal.scss","webpack:///./src/ui/src/components/SignatureValidationModal/SignatureValidationModal.js","webpack:///./src/ui/src/components/SignatureValidationModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","webComponents","document","getElementsByTagName","length","clonedStyleTags","webComponent","shadowRoot","appendChild","onload","forEach","styleNode","innerHTML","cloneNode","push","head","exports","locals","SignatureValidationModal","containerRef","useRef","translate","useTranslation","useSelector","state","validationModalWidgetName","viewer","selectors","isElementOpen","DataElements","SIGNATURE_VALIDATION_MODAL","getVerificationResult","shallowEqual","isOpen","verificationResult","dispatch","useDispatch","closeModal","actions","closeElements","useOnClickOutside","useEffect","SIGNATURE_MODAL","LOADING_MODAL","PRINT_MODAL","ERROR_MODAL","PASSWORD_MODAL","badgeIcon","verificationStatus","permissionStatus","isCertification","documentPermission","trustVerificationResultString","timeOfTrustVerificationEnum","trustVerificationTime","digestAlgorithm","digestStatus","documentStatus","trustStatus","signerName","window","Core","PDFNet","DigestAlgorithm","DigitalSignatureField","VerificationOptions","VerificationResult","ModificationPermissionsStatus","TrustStatus","DigestStatus","DocumentStatus","TimeMode","className","classNames","Modal","open","closed","data-element","ref","status","typeCapitalized","type","SignatureIcon","badge","size","name","renderHeader","renderPermissionStatus","editor","DocumentPermissions","e_no_changes_allowed","e_formfilling_signing_allowed","e_annotating_formfilling_signing_allowed","e_unrestricted","renderDocumentPermission","verificationType","e_trust_verified","e_untrusted","e_trust_verification_disabled","e_no_trust_status","renderTrustStatus","e_current","e_signing","e_timestamp","renderTrustVerification","e_no_error","e_corrupt_file","e_unsigned","e_bad_byteranges","e_corrupt_cryptographic_contents","renderDocumentStatus","e_digest_invalid","e_digest_verified","e_digest_verification_disabled","e_weak_digest_algorithm_but_digest_verifiable","e_no_digest_status","e_unsupported_encoding","renderDigestStatus","Type","e_SHA1","e_SHA256","e_SHA384","e_SHA512","e_RIPEMD160","e_unknown_digest_algorithm","renderDigestAlgorithm","onClick"],"mappings":"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","file":"chunks/45.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./SignatureValidationModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\n                if (webComponents.length > 0) {\n                  const clonedStyleTags = [];\n                  for (let i = 0; i < webComponents.length; i++) {\n                    const webComponent = webComponents[i];\n                    if (i === 0) {\n                      webComponent.shadowRoot.appendChild(styleTag);\n                      styleTag.onload = function () {\n                        if (clonedStyleTags.length > 0) {\n                          clonedStyleTags.forEach((styleNode) => {\n                            // eslint-disable-next-line no-unsanitized/property\n                            styleNode.innerHTML = styleTag.innerHTML;\n                          });\n                        }\n                      };\n                    } else {\n                      const styleNode = styleTag.cloneNode(true);\n                      webComponent.shadowRoot.appendChild(styleNode);\n                      clonedStyleTags.push(styleNode);\n                    }\n                  }\n                } else {\n                  document.head.appendChild(styleTag);\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.SignatureValidationModal{visibility:visible}.closed.SignatureValidationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignatureValidationModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.SignatureValidationModal .modal-container .wrapper .modal-content{padding:10px}.SignatureValidationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.SignatureValidationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.SignatureValidationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.SignatureValidationModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.SignatureValidationModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.SignatureValidationModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.SignatureValidationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.SignatureValidationModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.SignatureValidationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.SignatureValidationModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}.SignatureValidationModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .swipe-indicator{display:none}}.SignatureValidationModal .container{background:var(--component-background);overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .SignatureValidationModal .container,.SignatureValidationModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .SignatureValidationModal .container,.SignatureValidationModal .App.is-web-component .container{overflow:auto;max-height:100%}}.SignatureValidationModal .container{display:flex;flex-direction:column;justify-content:space-around;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);min-width:350px;padding:20px;max-width:630px}.SignatureValidationModal .validation-header{position:relative;display:flex;justify-content:left;align-items:center;padding-bottom:20px;font-size:16px}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]{position:absolute;right:0}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]:hover{background:none}.SignatureValidationModal .summary-box{position:relative;display:flex;border:1px solid #dee2e6;border-radius:5px;padding:16px;font-weight:700}.SignatureValidationModal .summary-box>:not(:first-child){margin-left:8px}.SignatureValidationModal .validation-header-valid{background-color:#8dd88d}.SignatureValidationModal .validation-header-warning{background-color:#e2b719}.SignatureValidationModal .validation-header-error{background-color:#ff7979}.SignatureValidationModal .validation-header-unknown{background-color:#ddd}.SignatureValidationModal .body{margin-top:16px}.SignatureValidationModal div.body>div.section:first-child{margin-top:0}.SignatureValidationModal div.body>div.section{margin:16px;padding-bottom:16px;border-bottom:1px solid var(--gray-4)}.SignatureValidationModal div.body>div.section:last-child{margin-bottom:0}.SignatureValidationModal div.body>div.section>p{font-size:13px;margin:8px 0}.SignatureValidationModal div.body>div.section>p:last-child{margin:0}.SignatureValidationModal .header{font-weight:700}.SignatureValidationModal .modal-footer{display:flex;justify-content:flex-end;margin-top:32px}.SignatureValidationModal .modal-footer .close-modal-button{background:var(--primary-button);border:1px;border-color:var(--primary-button);border-radius:4px;padding:0 16px;height:32px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}.SignatureValidationModal .modal-footer .close-modal-button:hover{background:var(--primary-button-hover)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useRef, useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport selectors from 'selectors';\nimport DataElements from 'constants/dataElement';\n\nimport {\n  renderPermissionStatus,\n  Spinner,\n} from 'components/SignaturePanel';\nimport SignatureIcon from 'components/SignaturePanel/SignatureIcon';\nimport useOnClickOutside from 'hooks/useOnClickOutside';\n\nimport actions from 'actions';\n\nimport './SignatureValidationModal.scss';\n\nconst SignatureValidationModal = () => {\n  const containerRef = useRef();\n  const [translate] = useTranslation();\n\n  const [isOpen, verificationResult] = useSelector(\n    (state) => {\n      const { validationModalWidgetName } = state.viewer;\n      return [\n        selectors.isElementOpen(state, DataElements.SIGNATURE_VALIDATION_MODAL),\n        selectors.getVerificationResult(state, validationModalWidgetName),\n      ];\n    },\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  const closeModal = () => {\n    dispatch(actions.closeElements([DataElements.SIGNATURE_VALIDATION_MODAL]));\n  };\n\n  useOnClickOutside(containerRef, closeModal);\n\n  useEffect(() => {\n    if (isOpen) {\n      dispatch(\n        actions.closeElements([\n          DataElements.SIGNATURE_MODAL,\n          DataElements.LOADING_MODAL,\n          DataElements.PRINT_MODAL,\n          DataElements.ERROR_MODAL,\n          DataElements.PASSWORD_MODAL,\n        ])\n      );\n    }\n  }, [dispatch, isOpen]);\n\n  /**\n   * @todo Figure out if this useEffect is still needed? Component appears to be\n   * operating normally without it.\n   */\n  /*\n  useEffect(() => {\n    const onDigitalSignatureAvailable = widget => {\n      setWidgetName(widget.getField().name);\n      dispatch(actions.openElements(['signatureValidationModal']));\n    };\n\n    core.addEventListener(\n      'digitalSignatureAvailable',\n      onDigitalSignatureAvailable,\n    );\n    return () => core.removeEventListener(\n      'digitalSignatureAvailable',\n      onDigitalSignatureAvailable,\n    );\n  }, [dispatch]);\n  */\n\n  const {\n    badgeIcon,\n    verificationStatus,\n    permissionStatus,\n    isCertification,\n    documentPermission,\n    trustVerificationResultString,\n    timeOfTrustVerificationEnum,\n    trustVerificationTime,\n    digestAlgorithm,\n    digestStatus,\n    documentStatus,\n    trustStatus,\n    signerName,\n  } = verificationResult;\n  const {\n    DigestAlgorithm,\n    DigitalSignatureField,\n    VerificationOptions,\n    VerificationResult,\n  } = window.Core.PDFNet;\n  const {\n    ModificationPermissionsStatus,\n    TrustStatus,\n    DigestStatus,\n    DocumentStatus,\n  } = VerificationResult;\n  const { TimeMode } = VerificationOptions;\n\n  const renderHeader = () => {\n    let status;\n    switch (badgeIcon) {\n      case 'digital_signature_valid':\n        status = translate('digitalSignatureModal.valid');\n        break;\n      case 'digital_signature_warning':\n        status = translate('digitalSignatureModal.unknown');\n        break;\n      case 'digital_signature_error':\n        status = translate('digitalSignatureModal.invalid');\n        break;\n      default:\n        status = translate('digitalSignatureModal.unknown');\n    }\n\n    const typeCapitalized = isCertification\n      ? translate('digitalSignatureModal.Certification')\n      : translate('digitalSignatureModal.Signature');\n\n    const type = isCertification\n      ? translate('digitalSignatureModal.certification')\n      : translate('digitalSignatureModal.signature');\n\n    return (\n      <div>\n        <div className=\"validation-header\">\n          {translate('digitalSignatureModal.title', { type: typeCapitalized })}\n        </div>\n        <div className=\"summary-box\">\n          <SignatureIcon badge={badgeIcon} size=\"medium\"/>\n          <div>\n            {\n              translate(\n                'digitalSignatureModal.summaryBox.summary',\n                {\n                  type,\n                  status,\n                }\n              )\n            }\n            {\n              badgeIcon === 'digital_signature_valid'\n                ? translate(\n                  'digitalSignatureModal.summaryBox.signedBy',\n                  { name: signerName || translate('digitalSignatureModal.unknown') },\n                ) : ''\n            }\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  /**\n   * Returns a message in a <p> tag corresponding to the enum value of\n   * documentPermission, which originates from the invocation of\n   * PDFNet.DigitalSignatureField.getDocumentPermissions\n   */\n  const renderDocumentPermission = () => {\n    if (!documentPermission) {\n      return;\n    }\n\n    let content = '';\n    const editor = isCertification ? 'certifier' : 'signer';\n\n    switch (documentPermission) {\n      case DigitalSignatureField.DocumentPermissions.e_no_changes_allowed:\n        content += translate('digitalSignatureModal.documentPermission.noChangesAllowed', { editor });\n        break;\n      case DigitalSignatureField.DocumentPermissions.e_formfilling_signing_allowed:\n        content += translate('digitalSignatureModal.documentPermission.formfillingSigningAllowed', { editor });\n        break;\n      case DigitalSignatureField.DocumentPermissions.e_annotating_formfilling_signing_allowed:\n        content += translate('digitalSignatureModal.documentPermission.annotatingFormfillingSigningAllowed', { editor });\n        break;\n      case DigitalSignatureField.DocumentPermissions.e_unrestricted:\n        content += translate('digitalSignatureModal.documentPermission.unrestricted', { editor });\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  /**\n   * Returns a message in a <p> tag corresponding to the signature's trust\n   * verification result.\n   *\n   * If trustVerificationResultString is a falsy value (i.e. undefined, null or\n   * empty string), originating from the invocation of\n   * PDFNet.TrustVerificationResult.getResultString, then a message indicating\n   * no trust verification result is rendered.\n   *\n   * If a trust verification result is available, then the based on\n   * timeOfTrustVerificationEnum, which originates from the invocation of\n   * PDFNet.TrustVerificationResult.getTimeOfTrustVerificationEnum, an\n   * appropriate message is rendered\n   */\n  const renderTrustVerification = () => {\n    if (!trustVerificationResultString) {\n      return (\n        <p>{translate('digitalSignatureModal.trustVerification.none')}</p>\n      );\n    }\n\n    let content = '';\n    switch (timeOfTrustVerificationEnum) {\n      case (TimeMode.e_current):\n        content += translate(\n          'digitalSignatureModal.trustVerification.current',\n          { trustVerificationTime }\n        );\n        break;\n      case (TimeMode.e_signing):\n        content += translate(\n          'digitalSignatureModal.trustVerification.signing',\n          { trustVerificationTime }\n        );\n        break;\n      case (TimeMode.e_timestamp):\n        content += translate(\n          'digitalSignatureModal.trustVerification.timestamp',\n          { trustVerificationTime }\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  /**\n   * Returns a message in a <p> tag corresponding to the signature's digest\n   * algorithm, which originates from the invocation of\n   * PDFNet.verificationResult.getDigestAlgorithm\n   */\n  const renderDigestAlgorithm = () => {\n    let content = translate('digitalSignatureModal.digestAlgorithm.preamble');\n\n    switch (digestAlgorithm) {\n      case DigestAlgorithm.Type.e_SHA1:\n        content += 'SHA1.';\n        break;\n      case DigestAlgorithm.Type.e_SHA256:\n        content += 'SHA256.';\n        break;\n      case DigestAlgorithm.Type.e_SHA384:\n        content += 'SHA384.';\n        break;\n      case DigestAlgorithm.Type.e_SHA512:\n        content += 'SHA512.';\n        break;\n      case DigestAlgorithm.Type.e_RIPEMD160:\n        content += 'RIPEMD160.';\n        break;\n      case DigestAlgorithm.Type.e_unknown_digest_algorithm:\n        content = translate('digitalSignatureModal.digestAlgorithm.unknown');\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  /**\n   * Returns a message in a <p> tag corresponding to the boolean trust status of\n   * the signature, which originates from evaluating whether or not the value of\n   * PDFNet.verificationResult.getTrustStatus is set to the enum\n   * PDFNet.verificationResult.trustStatus.e_trust_verified\n   *\n   * Intentionally an un-used function, as @rdjericpdftron has noted that it\n   * is superfluous, but the method has been left behind in-case it could be\n   * leveraged in the future\n   */\n  /*\n  const renderSignerIdentityValidity = () => {\n    let content = translate('digitalSignatureModal.signerIdentity.preamble');\n    if (validSignerIdentity) {\n      content += translate('digitalSignatureModal.signerIdentity.valid');\n    } else {\n      content += translate('digitalSignatureModal.signerIdentity.unknown');\n    }\n    return <p>{content}</p>;\n  };\n  */\n\n  const renderDocumentStatus = () => {\n    let content;\n\n    switch (documentStatus) {\n      case DocumentStatus.e_no_error:\n        content = translate(\n          'digitalSignatureVerification.documentStatus.noError'\n        );\n        break;\n      case DocumentStatus.e_corrupt_file:\n        content = translate(\n          'digitalSignatureVerification.documentStatus.corruptFile'\n        );\n        break;\n      case DocumentStatus.e_unsigned:\n        content = translate(\n          'digitalSignatureVerification.documentStatus.unsigned'\n        );\n        break;\n      case DocumentStatus.e_bad_byteranges:\n        content = translate(\n          'digitalSignatureVerification.documentStatus.badByteRanges'\n        );\n        break;\n      case DocumentStatus.e_corrupt_cryptographic_contents:\n        content = translate(\n          'digitalSignatureVerification.documentStatus.corruptCryptographicContents'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderDigestStatus = () => {\n    let content;\n\n    switch (digestStatus) {\n      case DigestStatus.e_digest_invalid:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.digestInvalid'\n        );\n        break;\n      case DigestStatus.e_digest_verified:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.digestVerified'\n        );\n        break;\n      case DigestStatus.e_digest_verification_disabled:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.digestVerificationDisabled'\n        );\n        break;\n      case DigestStatus.e_weak_digest_algorithm_but_digest_verifiable:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.weakDigestAlgorithmButDigestVerifiable'\n        );\n        break;\n      case DigestStatus.e_no_digest_status:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.noDigestStatus'\n        );\n        break;\n      case DigestStatus.e_unsupported_encoding:\n        content = translate(\n          'digitalSignatureVerification.digestStatus.unsupportedEncoding'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderTrustStatus = () => {\n    const verificationType = isCertification\n      ? translate('digitalSignatureVerification.certifier')\n      : translate('digitalSignatureVerification.signer');\n    let content;\n\n    switch (trustStatus) {\n      case TrustStatus.e_trust_verified:\n        content = translate(\n          'digitalSignatureVerification.trustStatus.trustVerified',\n          { verificationType },\n        );\n        break;\n      case TrustStatus.e_untrusted:\n        content = translate(\n          'digitalSignatureVerification.trustStatus.untrusted'\n        );\n        break;\n      case TrustStatus.e_trust_verification_disabled:\n        content = translate(\n          'digitalSignatureVerification.trustStatus.trustVerificationDisabled'\n        );\n        break;\n      case TrustStatus.e_no_trust_status:\n        content = translate(\n          'digitalSignatureVerification.trustStatus.noTrustStatus'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderDocumentIntegrityHeader = () => (\n    <p\n      className=\"header\"\n    >\n      {translate('digitalSignatureModal.header.documentIntegrity')}\n    </p>\n  );\n\n  const renderIdentitiesTrustHeader = () => (\n    <p\n      className=\"header\"\n    >\n      {translate('digitalSignatureModal.header.identitiesTrust')}\n    </p>\n  );\n\n  const renderGeneralErrorsHeader = () => (\n    <p\n      className=\"header\"\n    >\n      {translate('digitalSignatureModal.header.generalErrors')}\n    </p>\n  );\n\n  const renderDigestStatusHeader = () => (\n    <p\n      className=\"header\"\n    >\n      {translate('digitalSignatureModal.header.digestStatus')}\n    </p>\n  );\n\n  const renderModalBody = () => {\n    if (typeof verificationStatus === 'undefined') {\n      return (\n        <div className=\"center\">\n          <Spinner />\n        </div>\n      );\n    }\n    return (\n      <>\n        <div className=\"body\">\n          <div className=\"section\">\n            {renderDocumentIntegrityHeader()}\n            {\n              renderPermissionStatus({\n                isCertification,\n                ModificationPermissionsStatus,\n                permissionStatus,\n                translate,\n              })\n            }\n            {renderDocumentPermission()}\n          </div>\n          <div className=\"section\">\n            {renderIdentitiesTrustHeader()}\n            {renderTrustStatus()}\n            {renderTrustVerification()}\n          </div>\n          <div className=\"section\">\n            {renderGeneralErrorsHeader()}\n            {renderDocumentStatus()}\n          </div>\n          <div className=\"section\">\n            {renderDigestStatusHeader()}\n            {renderDigestStatus()}\n            {renderDigestAlgorithm()}\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"close-modal-button\"\n            onClick={closeModal}\n          >\n            OK\n          </button>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div\n      className={classNames({\n        Modal: true,\n        SignatureValidationModal: true,\n        open: isOpen,\n        closed: !isOpen,\n      })}\n      data-element={DataElements.SIGNATURE_VALIDATION_MODAL}\n    >\n      <div className=\"container\" ref={containerRef}>\n        {renderHeader()}\n        {renderModalBody()}\n      </div>\n    </div>\n  );\n};\n\nexport default SignatureValidationModal;\n","import SignatureValidationModal from './SignatureValidationModal';\n\nexport default SignatureValidationModal;\n"],"sourceRoot":""}