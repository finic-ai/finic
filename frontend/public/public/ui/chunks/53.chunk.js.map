{"version":3,"sources":["webpack:///./src/ui/src/components/PageManipulationOverlay/CustomPageManipulationOperations/CustomPageManipulationOperations.js","webpack:///./src/ui/src/components/PageManipulationOverlay/CustomPageManipulationOperations/index.js","webpack:///./src/ui/src/components/PageManipulationOverlay/PageManipulationOverlay.js","webpack:///./src/ui/src/components/PageManipulationOverlay/PageManipulationOverlayContainer.js","webpack:///./src/ui/src/components/PageManipulationOverlay/index.js"],"names":["CustomPageManipulationOperations","props","dataElement","pageNumbers","header","operations","DataElementWrapper","className","map","operation","key","onClick","img","Button","title","role","renderIcon","InitialPageManipulationOverlay","children","pageManipulationOverlayItems","childrenArray","React","Children","toArray","item","index","type","component","find","child","cloneElement","PageManipulationOverlay","dispatch","useDispatch","closeOverlay","useCallback","actions","setPageManipulationOverlayAlternativePosition","closeElements","DataElements","PAGE_MANIPULATION_OVERLAY","useEffect","core","addEventListener","removeEventListener","PageAdditionalControls","PageRotationControls","PageManipulationControls","PageManipulationOverlayContainer","useSelector","state","selectors","getSelectedThumbnailPageIndexes","getCurrentPage","getPageManipulationOverlayItems","shallowEqual","selectedPageIndexes","currentPage","length","i","FlyoutMenu","menu","trigger","PAGE_MANIPULATION_OVERLAY_BUTTON"],"mappings":"4RA4CeA,IC1CAA,EDEf,SAA0CC,GACxC,IAAQC,EAAiDD,EAAjDC,YAAaC,EAAoCF,EAApCE,YAAaC,EAAuBH,EAAvBG,OAAQC,EAAeJ,EAAfI,WAc1C,OACE,oCACE,kBAACC,EAAA,EAAkB,CACjBJ,YAAaA,EACbK,UAAU,QAETH,GAEFC,EAAWG,KAAI,SAACC,GACf,OACE,kBAACH,EAAA,EAAkB,CACjBI,IAAKD,EAAUP,YACfK,UAAU,MACVL,YAAaO,EAAUP,YACvBS,QAAS,kBAAMF,EAAUE,QAAQR,KA1B3C,SAAoBM,GAClB,GAAIA,EAAUG,IACZ,OACE,kBAACC,EAAA,EAAM,CACLC,MAAOL,EAAUK,MACjBF,IAAKH,EAAUG,IACfG,KAAK,WAsBFC,CAAWP,GACZ,yBAAKF,UAAU,SAASE,EAAUK,a,iPEzB9C,SAASG,EAA+B,GAAyD,IAAvDC,EAAQ,EAARA,SAAUf,EAAW,EAAXA,YAAagB,EAA4B,EAA5BA,6BACzDC,EAAgBC,IAAMC,SAASC,QAAQL,GAE7C,OAAOC,EAA6BX,KAAI,SAACgB,EAAMC,GAC7C,IAAQvB,EAAsBsB,EAAtBtB,YAAawB,EAASF,EAATE,KACjBC,EAAYP,EAAcQ,MAAK,SAACC,GAAK,OAAKA,EAAM5B,MAAMC,cAAgBA,KACpEQ,EAAMR,GAAe,GAAJ,OAAOwB,EAAI,YAAID,GAYtC,OAVKE,IACU,YAATD,IACFC,EAAY,yBAAKpB,UAAU,aAGhB,wBAATmB,IACFC,EAAY,kBAAC,EAAgC,GAACjB,IAAKR,EAAaC,YAAaA,GAAiBqB,MAI3FG,EACHN,IAAMS,aAAaH,EAAW,CAC9BjB,QAEA,QA+BOqB,MA1Bf,SAAiC9B,GAC/B,IAAQE,EAA8CF,EAA9CE,YAAagB,EAAiClB,EAAjCkB,6BAEfa,EAAWC,cAEXC,EAAeC,uBAAY,WAC/BH,EAASI,IAAQC,8CAA8C,OAC/DL,EAASI,IAAQE,cAAc,CAACC,IAAaC,+BAC5C,CAACR,IASJ,OAPAS,qBAAU,WAER,OADAC,IAAKC,iBAAiB,iBAAkBT,GACjC,WACLQ,IAAKE,oBAAoB,iBAAkBV,MAE5C,IAGD,kBAACjB,EAA8B,CAACd,YAAaA,EAAagB,6BAA8BA,GACtF,kBAAC0B,EAAA,EAAsB,CAAC1C,YAAaA,EAAaD,YAAY,2BAC9D,kBAAC4C,EAAA,EAAoB,CAAC3C,YAAaA,EAAaD,YAAY,yBAC5D,kBAAC6C,EAAA,EAAwB,CAAC5C,YAAaA,EAAaD,YAAY,+B,+iCCzBvD8C,MA3Bf,WACE,IAQgB,IAJZC,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAUC,gCAAgCF,GAC1CC,IAAUE,eAAeH,GACzBC,IAAUG,gCAAgCJ,MACzCK,KAAa,GAPdC,EAAmB,KACnBC,EAAW,KACXtC,EAA4B,KAQxBhB,EAAcqD,EAAoBE,OAAS,EAAIF,EAAoBhD,KAAI,SAACmD,GAAC,OAAKA,EAAI,KAAK,CAACF,GAE9F,OACE,kBAACG,EAAA,EAAU,CACTC,KAAMtB,IAAaC,0BACnBsB,QAASvB,IAAawB,kCAEtB,kBAAC,EAAuB,CACtB5D,YAAaA,EACbgB,6BAA8BA,MC1BvBY","file":"chunks/53.chunk.js","sourcesContent":["import React from 'react';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport Button from 'components/Button';\n\nfunction CustomPageManipulationOperations(props) {\n  const { dataElement, pageNumbers, header, operations } = props;\n\n  function renderIcon(operation) {\n    if (operation.img) {\n      return (\n        <Button\n          title={operation.title}\n          img={operation.img}\n          role=\"option\"\n        />\n      );\n    }\n  }\n\n  return (\n    <>\n      <DataElementWrapper\n        dataElement={dataElement}\n        className=\"type\"\n      >\n        {header}\n      </DataElementWrapper>\n      {operations.map((operation) => {\n        return (\n          <DataElementWrapper\n            key={operation.dataElement}\n            className=\"row\"\n            dataElement={operation.dataElement}\n            onClick={() => operation.onClick(pageNumbers)}\n          >\n            {renderIcon(operation)}\n            <div className=\"title\">{operation.title}</div>\n          </DataElementWrapper>\n        );\n      })}\n    </>\n  );\n}\n\nexport default CustomPageManipulationOperations;","import CustomPageManipulationOperations from './CustomPageManipulationOperations';\n\nexport default CustomPageManipulationOperations;","import actions from 'actions';\nimport React, { useEffect, useCallback } from 'react';\nimport PageRotationControls from './PageRotationControls';\nimport PageManipulationControls from './PageManipulationControls';\nimport PageAdditionalControls from 'components/PageManipulationOverlay/PageAdditionalControls';\nimport CustomPageManipulationOperations from './CustomPageManipulationOperations';\nimport core from 'core';\n\nimport { useDispatch } from 'react-redux';\nimport DataElements from 'src/constants/dataElement';\n\nfunction InitialPageManipulationOverlay({ children, pageNumbers, pageManipulationOverlayItems }) {\n  const childrenArray = React.Children.toArray(children);\n\n  return pageManipulationOverlayItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomPageManipulationOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction PageManipulationOverlay(props) {\n  const { pageNumbers, pageManipulationOverlayItems } = props;\n\n  const dispatch = useDispatch();\n\n  const closeOverlay = useCallback(() => {\n    dispatch(actions.setPageManipulationOverlayAlternativePosition(null));\n    dispatch(actions.closeElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  }, [dispatch]);\n\n  useEffect(() => {\n    core.addEventListener('documentLoaded', closeOverlay);\n    return () => {\n      core.removeEventListener('documentLoaded', closeOverlay);\n    };\n  }, []);\n\n  return (\n    <InitialPageManipulationOverlay pageNumbers={pageNumbers} pageManipulationOverlayItems={pageManipulationOverlayItems}>\n      <PageAdditionalControls pageNumbers={pageNumbers} dataElement=\"pageAdditionalControls\" />\n      <PageRotationControls pageNumbers={pageNumbers} dataElement=\"pageRotationControls\" />\n      <PageManipulationControls pageNumbers={pageNumbers} dataElement=\"pageManipulationControls\" />\n    </InitialPageManipulationOverlay>\n  );\n}\n\nexport default PageManipulationOverlay;","import React from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport PageManipulationOverlay from './PageManipulationOverlay';\nimport FlyoutMenu from '../FlyoutMenu/FlyoutMenu';\nimport selectors from 'selectors';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayContainer() {\n  const [\n    selectedPageIndexes,\n    currentPage,\n    pageManipulationOverlayItems,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.getCurrentPage(state),\n    selectors.getPageManipulationOverlayItems(state),\n  ], shallowEqual);\n\n  // If we start drilling this prop, maybe create a context\n  const pageNumbers = selectedPageIndexes.length > 0 ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n\n  return (\n    <FlyoutMenu\n      menu={DataElements.PAGE_MANIPULATION_OVERLAY}\n      trigger={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n    >\n      <PageManipulationOverlay\n        pageNumbers={pageNumbers}\n        pageManipulationOverlayItems={pageManipulationOverlayItems}\n      />\n    </ FlyoutMenu>\n  );\n}\n\nexport default PageManipulationOverlayContainer;","import PageManipulationOverlay from './PageManipulationOverlayContainer';\n\nexport default PageManipulationOverlay;"],"sourceRoot":""}