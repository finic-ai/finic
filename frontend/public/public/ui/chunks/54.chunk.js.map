{"version":3,"sources":["webpack:///./src/ui/src/constants/displayModeObjects.js","webpack:///./src/ui/src/components/ViewControlsOverlay/ViewControlsOverlay.js","webpack:///./src/ui/src/components/ViewControlsOverlay/index.js"],"names":["displayMode","pageTransition","layout","ViewControlsOverlay","t","useTranslation","store","useStore","useSelector","state","selectors","getTotalPages","getDisplayMode","isElementDisabled","DataElements","VIEW_CONTROLS_OVERLAY","isReaderMode","isMultiViewerMode","isFullScreen","getActiveDocumentViewerKey","totalPages","isDisabled","activeDocumentViewerKey","isPageTransitionEnabled","documentViewer","core","getDocumentViewer","displayModeManager","getDisplayModeManager","isVirtualDisplayEnabled","handleClick","setDisplayMode","displayModeObject","displayModeObjects","find","obj","exitReaderMode","setTimeout","showReaderButton","isFullPDFEnabled","getDocument","getType","FlyoutMenu","menu","trigger","VIEW_CONTROLS_OVERLAY_BUTTON","ariaLabel","DataElementWrapper","dataElement","className","classNames","row","active","onClick","Button","title","img","isActive","role","enterReaderMode","rotateClockwise","ActionButton","rotateCounterClockwise","isIE11","dispatch","actions","setIsMultiViewerMode","isIOS","isIOSFullScreenSupported","toggleFullscreen"],"mappings":"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","file":"chunks/54.chunk.js","sourcesContent":["export default [\n  {\n    displayMode: 'Single',\n    pageTransition: 'default',\n    layout: 'single',\n  },\n  {\n    displayMode: 'Continuous',\n    pageTransition: 'continuous',\n    layout: 'single',\n  },\n  {\n    displayMode: 'Facing',\n    pageTransition: 'default',\n    layout: 'double',\n  },\n  {\n    displayMode: 'FacingContinuous',\n    pageTransition: 'continuous',\n    layout: 'double',\n  },\n  {\n    displayMode: 'CoverFacing',\n    pageTransition: 'default',\n    layout: 'cover',\n  },\n  {\n    displayMode: 'Cover',\n    pageTransition: 'continuous',\n    layout: 'cover',\n  },\n];","import classNames from 'classnames';\nimport ActionButton from 'components/ActionButton';\nimport Button from 'components/Button';\nimport displayModeObjects from 'constants/displayModeObjects';\nimport core from 'core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useStore } from 'react-redux';\nimport selectors from 'selectors';\nimport FlyoutMenu from '../FlyoutMenu/FlyoutMenu';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport { enterReaderMode, exitReaderMode } from 'helpers/readerMode';\nimport actions from 'actions';\nimport toggleFullscreen from 'helpers/toggleFullscreen';\nimport DataElements from 'src/constants/dataElement';\nimport { isIE11, isIOS, isIOSFullScreenSupported } from 'helpers/device';\n\nfunction ViewControlsOverlay() {\n  const [t] = useTranslation();\n  const store = useStore();\n\n  const [\n    totalPages,\n    displayMode,\n    isDisabled,\n    isReaderMode,\n    isMultiViewerMode,\n    isFullScreen,\n    activeDocumentViewerKey,\n  ] = useSelector((state) => [\n    selectors.getTotalPages(state),\n    selectors.getDisplayMode(state),\n    selectors.isElementDisabled(state, DataElements.VIEW_CONTROLS_OVERLAY),\n    selectors.isReaderMode(state),\n    selectors.isMultiViewerMode(state),\n    selectors.isFullScreen(state),\n    selectors.getActiveDocumentViewerKey(state),\n  ]);\n\n  const totalPageThreshold = 1000;\n  let isPageTransitionEnabled = totalPages < totalPageThreshold;\n\n  const documentViewer = core.getDocumentViewer();\n  const displayModeManager = documentViewer?.getDisplayModeManager();\n  if (displayModeManager && displayModeManager.isVirtualDisplayEnabled()) {\n    isPageTransitionEnabled = true;\n  }\n  const toggleCompareMode = () => {\n    store.dispatch(actions.setIsMultiViewerMode(!isMultiViewerMode));\n  };\n\n  const handleClick = (pageTransition, layout) => {\n    const setDisplayMode = () => {\n      const displayModeObject = displayModeObjects.find(\n        (obj) => obj.pageTransition === pageTransition && obj.layout === layout,\n      );\n      core.setDisplayMode(displayModeObject.displayMode);\n    };\n\n    if (isReaderMode) {\n      exitReaderMode(store);\n      setTimeout(() => {\n        setDisplayMode();\n      });\n    } else {\n      setDisplayMode();\n    }\n  };\n\n  const handleReaderModeClick = () => {\n    if (isReaderMode) {\n      return;\n    }\n    enterReaderMode(store);\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  let pageTransition;\n  let layout;\n\n  const displayModeObject = displayModeObjects.find((obj) => obj.displayMode === displayMode);\n  if (displayModeObject) {\n    pageTransition = displayModeObject.pageTransition;\n    layout = displayModeObject.layout;\n  }\n\n  const showReaderButton = core.isFullPDFEnabled() && core.getDocument()?.getType() === 'pdf';\n  // Full screen is supported in iPad OS for non-video elements, but not in iOS\n  const renderFullScreenToggle = () => {\n    if (isIOS && !isIOSFullScreenSupported) {\n      return null;\n    }\n    return (\n      <>\n        <DataElementWrapper\n          dataElement=\"viewControlsDivider3\"\n          className=\"divider\"\n        />\n        <DataElementWrapper\n          className=\"row\"\n          onClick={toggleFullscreen}\n          dataElement=\"fullScreenButton\"\n        >\n          <Button\n            img={isFullScreen ? 'icon-header-full-screen-exit' : 'icon-header-full-screen'}\n            role=\"option\"\n          />\n          <div className=\"title\">{isFullScreen ? t('action.exitFullscreen') : t('action.enterFullscreen')}</div>\n        </DataElementWrapper>\n      </>\n    );\n  };\n\n  return (\n    <FlyoutMenu\n      menu={DataElements.VIEW_CONTROLS_OVERLAY}\n      trigger={DataElements.VIEW_CONTROLS_OVERLAY_BUTTON}\n      ariaLabel={t('component.viewControlsOverlay')}\n    >\n      {isPageTransitionEnabled && (\n        <>\n          <DataElementWrapper\n            dataElement=\"pageTransitionHeader\"\n            className=\"type\"\n          >\n            {t('option.displayMode.pageTransition')}\n          </DataElementWrapper>\n          <DataElementWrapper\n            className={classNames({ row: true, active: (pageTransition === 'continuous' && !isReaderMode) })}\n            onClick={() => handleClick('continuous', layout)}\n            dataElement=\"continuousPageTransitionButton\"\n          >\n            <Button\n              title=\"option.pageTransition.continuous\"\n              img=\"icon-header-page-manipulation-page-transition-continuous-page-line\"\n              isActive={pageTransition === 'continuous' && !isReaderMode}\n              role=\"option\"\n            />\n            <div className=\"title\">{t('option.pageTransition.continuous')}</div>\n          </DataElementWrapper>\n          <DataElementWrapper\n            className={classNames({ row: true, active: (pageTransition === 'default' && !isReaderMode) })}\n            onClick={() => handleClick('default', layout)}\n            dataElement=\"defaultPageTransitionButton\"\n          >\n            <Button\n              title=\"option.pageTransition.default\"\n              img=\"icon-header-page-manipulation-page-transition-page-by-page-line\"\n              isActive={pageTransition === 'default' && !isReaderMode}\n              role=\"option\"\n            />\n            <div className=\"title\">{t('option.pageTransition.default')}</div>\n          </DataElementWrapper>\n          {showReaderButton && (\n            <DataElementWrapper\n              className={classNames({ row: true, active: isReaderMode })}\n              onClick={() => handleReaderModeClick()}\n              dataElement=\"readerPageTransitionButton\"\n            >\n              <Button\n                title=\"option.pageTransition.reader\"\n                img=\"icon-header-page-manipulation-page-transition-reader\"\n                isActive={isReaderMode}\n                role=\"option\"\n              />\n              <div className=\"title\">{t('option.pageTransition.reader')}</div>\n            </DataElementWrapper>\n          )}\n          {!isReaderMode && (\n            <DataElementWrapper\n              dataElement=\"viewControlsDivider1\"\n              className=\"divider\"\n            />\n          )}\n        </>\n      )}\n      {!isReaderMode && (\n        <>\n          <DataElementWrapper\n            dataElement=\"rotateHeader\"\n            className=\"type\"\n          >\n            {t('action.rotate')}\n          </DataElementWrapper>\n          <DataElementWrapper className=\"row\" onClick={() => core.rotateClockwise(activeDocumentViewerKey)} dataElement=\"rotateClockwiseButton\">\n            <ActionButton\n              title=\"action.rotateClockwise\"\n              img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n              role=\"option\"\n            />\n            <div className=\"title\">{t('action.rotateClockwise')}</div>\n          </DataElementWrapper>\n          <DataElementWrapper className=\"row\" onClick={() => core.rotateCounterClockwise(activeDocumentViewerKey)} dataElement=\"rotateCounterClockwiseButton\">\n            <ActionButton\n              title=\"action.rotateCounterClockwise\"\n              img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n              role=\"option\"\n            />\n            <div className=\"title\">{t('action.rotateCounterClockwise')}</div>\n          </DataElementWrapper>\n          <DataElementWrapper\n            dataElement=\"viewControlsDivider2\"\n            className=\"divider\"\n          />\n          <DataElementWrapper\n            dataElement=\"layoutHeader\"\n            className=\"type\"\n          >\n            {t('option.displayMode.layout')}\n          </DataElementWrapper>\n          <DataElementWrapper\n            className={classNames({ row: true, active: layout === 'single' })}\n            onClick={() => handleClick(pageTransition, 'single')}\n            dataElement=\"singleLayoutButton\"\n          >\n            <Button\n              title=\"option.layout.single\"\n              img=\"icon-header-page-manipulation-page-layout-single-page-line\"\n              isActive={layout === 'single'}\n              role=\"option\"\n            />\n            <div className=\"title\">{t('option.layout.single')}</div>\n          </DataElementWrapper>\n          <DataElementWrapper\n            className={classNames({ row: true, active: layout === 'double' })}\n            onClick={() => handleClick(pageTransition, 'double')}\n            dataElement=\"doubleLayoutButton\"\n          >\n            <Button\n              title=\"option.layout.double\"\n              img=\"icon-header-page-manipulation-page-layout-double-page-line\"\n              isActive={layout === 'double'}\n              role=\"option\"\n            />\n            <div className=\"title\">{t('option.layout.double')}</div>\n          </DataElementWrapper>\n          <DataElementWrapper\n            className={classNames({ row: true, active: layout === 'cover' })}\n            onClick={() => handleClick(pageTransition, 'cover')}\n            dataElement=\"coverLayoutButton\"\n          >\n            <Button\n              title=\"option.layout.cover\"\n              img=\"icon-header-page-manipulation-page-layout-cover-line\"\n              isActive={layout === 'cover'}\n              role=\"option\"\n            />\n            <div className=\"title\">{t('option.layout.cover')}</div>\n          </DataElementWrapper>\n          {!isIE11 && (\n            <DataElementWrapper\n              className={classNames({ row: true, active: isMultiViewerMode })}\n              onClick={toggleCompareMode}\n              dataElement=\"toggleCompareModeButton\"\n            >\n              <Button\n                title=\"action.comparePages\"\n                img=\"icon-header-compare\"\n                isActive={isMultiViewerMode}\n                role=\"option\"\n              />\n              <div className=\"title\">{t('action.comparePages')}</div>\n            </DataElementWrapper>\n          )}\n        </>\n      )}\n      {renderFullScreenToggle()}\n    </FlyoutMenu>\n  );\n}\n\nexport default ViewControlsOverlay;\n","import ViewControlsOverlay from './ViewControlsOverlay';\n\nexport default ViewControlsOverlay;"],"sourceRoot":""}